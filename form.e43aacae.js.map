{"version":3,"sources":["scripts/form.js"],"names":["greyColor","greenColor","redColor","fieldHeight","parseInt","getComputedStyle","document","documentElement","getPropertyValue","minNameLength","minMessageLength","nameField","getElementById","inputEmail","inputPhone","messageField","submitButton","paintElementValidation","element","isTrue","value","length","style","paintElementValidationPart","color","regexpEmail","validateStringByRegexp","regexp","match","validateStringByLength","minValue","validateEmailField","validatePhoneField","submitValidation","classList","add","setTimeout","remove","addEventListener","e","target","slice","x","replace","event","height","scHeight","Math","min","max","scrollHeight","preventDefault"],"mappings":"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","file":"form.e43aacae.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\r\n\r\nconst greyColor = '#828282';\r\nconst greenColor = '#344f10';\r\nconst redColor = '#EB5757';\r\nconst fieldHeight = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--field-height'));\r\n\r\nconst minNameLength = 2;\r\nconst minMessageLength = 10;\r\n\r\nconst nameField = document.getElementById('name');\r\nconst inputEmail = document.getElementById('email');\r\nconst inputPhone = document.getElementById('phone');\r\nconst messageField = document.getElementById('message');\r\nconst submitButton = document.getElementById('send-button');\r\n\r\nfunction paintElementValidation(element, isTrue) {\r\n  if (element.value.length === 0) {\r\n    element.style['border-bottom-color'] = greyColor;\r\n  } else {\r\n    paintElementValidationPart(element, isTrue);\r\n  }\r\n}\r\n\r\nfunction paintElementValidationPart(element, isTrue) {\r\n  if (isTrue) {\r\n    element.style.color = greenColor;\r\n    element.style['border-bottom-color'] = greenColor;\r\n  } else {\r\n    element.style.color = redColor;\r\n    element.style['border-bottom-color'] = redColor;\r\n  }\r\n}\r\n\r\nconst regexpEmail = /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/;\r\n\r\nfunction validateStringByRegexp(element, regexp) {\r\n  return element.value.match(regexp);\r\n}\r\n\r\nfunction validateStringByLength(element, minValue) {\r\n  return element.value.length >= minValue;\r\n}\r\n\r\nfunction validateEmailField(element, regexp) {\r\n  return element.value.match(regexp);\r\n}\r\n\r\nfunction validatePhoneField(element) {\r\n  return element.value.length === 14;\r\n}\r\n\r\nnameField.addEventListener('focusout', e => {\r\n  paintElementValidation(e.target, validateStringByLength(e.target, minNameLength));\r\n});\r\n\r\nnameField.addEventListener('keyup', e => {\r\n  const textLength = nameField.value.length;\r\n  const maxValue = 32;\r\n\r\n  if (textLength > maxValue) {\r\n    nameField.value = nameField.value.slice(0, maxValue);\r\n  }\r\n});\r\n\r\ninputEmail.addEventListener('focusout', e => {\r\n  paintElementValidation(e.target, validateEmailField(e.target, regexpEmail));\r\n});\r\n\r\ninputPhone.addEventListener('input', e => {\r\n  const x = e.target.value.replace(/\\D/g, '').match(/(\\d{0,3})(\\d{0,3})(\\d{0,4})/);\r\n\r\n  e.target.value = !x[2] ? x[1] : '(' + x[1] + ') ' + x[2] + (x[3] ? '-' + x[3] : '');\r\n});\r\n\r\ninputPhone.addEventListener('focusout', e => {\r\n  paintElementValidation(e.target, validatePhoneField(e.target, e.target.value === 14));\r\n});\r\n\r\nmessageField.addEventListener('input', event => {\r\n  event.target.style.height = 'auto';\r\n\r\n  const scHeight = Math.min(Math.max(event.target.scrollHeight), fieldHeight * 3);\r\n\r\n  event.target.style.height = `${scHeight}px`;\r\n});\r\n\r\nmessageField.addEventListener('keyup', e => {\r\n  const textLength = messageField.value.length;\r\n  const maxValue = 300;\r\n\r\n  if (textLength > maxValue) {\r\n    messageField.value = messageField.value.slice(0, maxValue);\r\n  }\r\n});\r\n\r\nmessageField.addEventListener('focusout', e => {\r\n  paintElementValidation(e.target, validateStringByLength(e.target, minMessageLength));\r\n});\r\n\r\nfunction submitValidation(element) {\r\n  element.style.color = redColor;\r\n  element.style['border-bottom-color'] = redColor;\r\n  element.classList.add('form__input--error');\r\n\r\n  setTimeout(() => {\r\n    element.style.color = greenColor;\r\n    element.style['border-bottom-color'] = greenColor;\r\n    element.classList.remove('form__input--error');\r\n  }, '1000');\r\n}\r\n\r\nsubmitButton.addEventListener('click', e => {\r\n  e.preventDefault();\r\n\r\n  if (!validateStringByLength(nameField, minNameLength)) {\r\n    submitValidation(nameField);\r\n  }\r\n\r\n  if (!validateStringByRegexp(inputEmail, regexpEmail)) {\r\n    submitValidation(inputEmail);\r\n  }\r\n\r\n  if (!validatePhoneField(inputPhone)) {\r\n    submitValidation(inputPhone);\r\n  }\r\n\r\n  if (!validateStringByLength(messageField, minMessageLength)) {\r\n    submitValidation(messageField);\r\n  }\r\n\r\n  if (validateStringByLength(nameField, minNameLength)\r\n  && validateStringByRegexp(inputEmail, regexpEmail)\r\n  && validatePhoneField(inputPhone)\r\n  && validateStringByLength(messageField, minMessageLength)) {\r\n    nameField.value = '';\r\n    inputEmail.value = '';\r\n    inputPhone.value = '';\r\n    messageField.value = '';\r\n  }\r\n});\r\n"]}